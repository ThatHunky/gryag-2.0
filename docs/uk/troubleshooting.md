# Усунення проблем

Цей посібник охоплює загальні проблеми, їх симптоми та рішення для Гряг 2.0.

## Загальні проблеми

### Бот не запускається

**Симптоми:**
- Контейнер бота завершується одразу
- Помилки в логах
- Помилки "Failed to start"

**Рішення:**

1. **Перевірте токен бота:**
   ```bash
   # Перевірте, що токен встановлено
   echo $TELEGRAM_BOT_TOKEN
   ```

2. **Перевірте API ключ LLM:**
   ```bash
   echo $LLM_API_KEY
   ```

3. **Перевірте підключення до бази даних:**
   ```bash
   docker compose ps postgres
   ```

4. **Перевірте логи:**
   ```bash
   docker compose logs bot
   ```

### Помилки підключення до бази даних

**Симптоми:**
- `Failed to initialize database`
- Помилки `Connection refused`

**Рішення:**

1. **Перевірте, що PostgreSQL запущений**
2. **Перевірте рядок підключення**
3. **Перевірте, що база даних існує**

### Помилки LLM API

**Симптоми:**
- `LLM error` повідомлення
- `model_unavailable` помилки

**Рішення:**

1. **Перевірте API ключ**
2. **Перевірте базову URL**
3. **Перевірте назву моделі**
4. **Увімкніть резервну модель**

### Бот не відповідає

**Симптоми:**
- Бот отримує повідомлення, але не відповідає

**Рішення:**

1. **Перевірте контроль доступу**
2. **Перевірте обмеження частоти**
3. **Перевірте ключові слова тригера (для груп)**
4. **Перевірте логи**

### Контекст занадто великий

**Симптоми:**
- Помилки перевищення `context_max_tokens`

**Рішення:**

1. **Зменште `IMMEDIATE_CONTEXT_MESSAGES`**
2. **Зменште `CONTEXT_MAX_TOKENS`**
3. **Зменште ліміти токенів підсумків**

## Пов'язана документація

- [Конфігурація](configuration.md) - Усунення проблем конфігурації
- [Розгортання](deployment.md) - Проблеми розгортання
- [Посібник адміністратора](admin.md) - Усунення проблем адміністратора
